@model IEnumerable<WebDienTu.Models.SanPham>

@{
    ViewData["Title"] = "Quản lý Sản phẩm";
    Layout = "~/Areas/Admin/Views/Shared/_LayoutAdmin.cshtml";
}

<h1 class="mb-4">Quản lý Sản phẩm</h1>

<p>
    <a asp-action="Create" class="btn btn-primary">
        <i class="fas fa-plus"></i> Thêm sản phẩm mới
    </a>
</p>

<table class="table table-striped table-hover table-bordered align-middle">
    <thead class="table-dark text-center">
        <tr>
            <th>STT</th>
			<th>Tên sản phẩm</th>
			<th>Hình ảnh</th>
            <th>Danh mục</th>
            <th>Giá</th>
            <th>Số lượng</th>
            <th>Trạng thái</th>
            <th>Ngày thêm</th>
            <th>Loại</th>
           @*  <th>Giá bán</th> *@
            <th>Thương hiệu</th>
            <th>Xuất xứ</th>
            <th>Bảo hành</th>
            <th>Hành động</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null && Model.Any())
        {
            int stt = 1;
            foreach (var item in Model)
            {
				<tr class="text-lg-start">
					<td>@stt</td>
					<td>@item.TenSanPham</td>
                    <td>
                        <img src="@item.HinhAnh" class="img-thumbnail" style="max-height:60px;" alt="@item.TenSanPham" />


                    </td>                  
                    <td>@item.MaDanhMucNavigation?.TenDanhMuc</td>
                    <td>
                        @if (item.GiaBan != null && item.GiaBan > 0)
                        {
                            <span style="text-decoration: line-through; color: gray;">
                                @string.Format("{0:N0} đ", item.Gia)
                            </span>
                            <br />
                            <span style="color: red; font-weight: bold;">
                                @string.Format("{0:N0} đ", item.GiaBan)
                            </span>
                        }
                        else
                        {
                            <span style="color: black; font-weight: bold;">
                                @string.Format("{0:N0} đ", item.Gia)
                            </span>
                        }
                    </td>

                    <td>@item.SoLuongTon</td>
                    <td>
                        <span class="badge @(item.TrangThai.GetValueOrDefault() ? "bg-success" : "bg-secondary")">
                            @(item.TrangThai.GetValueOrDefault() ? "Hiển thị" : "Ẩn")
                        </span>
                    </td>


                    <td>@item.NgayThem?.ToString("dd/MM/yyyy")</td>
                    <td>@item.Loai</td>
                   @*  <td>@item.GiaBan</td> *@
                    <td>@item.ThuongHieu</td>
                    <td>@item.XuatXu</td>
                    <td>@item.BaoHanh</td>
                    <td class="text-center">
                        <div class="dropdown">
                            <button class="btn btn-sm btn-primary dropdown-toggle" type="button" id="dropdownMenuButton-@item.MaSanPham" data-bs-toggle="dropdown" aria-expanded="false">
                                Hành động
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton-@item.MaSanPham">
                                <li>
                                    <a class="dropdown-item" asp-action="Edit" asp-route-id="@item.MaSanPham">
                                        <i class="fas fa-edit me-1"></i> Sửa
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" asp-action="Details" asp-route-id="@item.MaSanPham">
                                        <i class="fas fa-eye me-1"></i> Xem
                                    </a>
                                </li>
                                <li>
                                    <a class="dropdown-item" asp-action="Delete" asp-route-id="@item.MaSanPham">
                                        <i class="fas fa-trash-alt me-1"></i> Xóa
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </td>

                </tr>
                stt++;
            }
        }
        else
        {
            <tr>
                <td colspan="14" class="text-center">Không có sản phẩm nào.</td>
            </tr>
        }
    </tbody>
</table>
